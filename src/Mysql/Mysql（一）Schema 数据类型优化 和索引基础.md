# 前言
>文本已收录至我的GitHub仓库，欢迎Star：https://github.com/bin392328206/six-finger                             
> **种一棵树最好的时间是十年前，其次是现在**   
>我知道很多人不玩**qq**了,但是怀旧一下,欢迎加入六脉神剑Java菜鸟学习群，群聊号码：**549684836** 鼓励大家在技术的路上写博客
## 絮叨 
为啥要讲Mysql呢？因为这个在面试也问得比较多，而且自己很多时候写代码用到mysql的时候，也没有太过于注意一些东西，然后我想着把mysql的东西 好好整理一下，哈哈。然后慢慢来吧，从最基础的开始，这个系列也是不停止系列。写到哪算到哪
博主从学了mysql之后一直没有系统的学习过mysql 这次为了啃他 准备了 
- 掘金小册的  从根儿上理解mysql
![](https://user-gold-cdn.xitu.io/2020/3/18/170ec9fdb4a22a07?w=1191&h=596&f=png&s=110643)
说实话这个确实很牛逼，基本上看第一遍的时候我都特么觉得完全看不懂，看第二遍才能稍微明白，这种文章适合反复看，像我这个小白，唉，只能说菜的扣脚。
- mysql 45讲

![](https://user-gold-cdn.xitu.io/2020/3/18/170eca0ce5339008?w=829&h=634&f=png&s=105133)
难度比上面的小点。
- 高性能mysql

![](https://user-gold-cdn.xitu.io/2020/3/18/170eca14adcbe12a?w=1785&h=628&f=png&s=102971)
技术总监点名要学习的，还不错。

![](https://user-gold-cdn.xitu.io/2020/3/18/170eca604604cb70?w=596&h=392&f=png&s=108796)

- 深入浅出mysql
![](https://user-gold-cdn.xitu.io/2020/3/18/170eca1bd7a2f789?w=1005&h=672&f=png&s=128139)

其实我写博客，也就是记录自己的学习过程，其实我是觉得自己还是很菜的，在技术的路上 还处在 **看山是山** 的境界吗，希望2年后看到自己写的文章，心里会冒出一句，这是哪个shabi写的东西，哈哈，这说明，我这2年当中有进步嘛，好啦，大家一起来跟我系统的学习学习mysql吧。

> 后续文章默认大家会简单的crud，并且会用SQL语言，如果你连SELECT、INSERT这些单词都没听说过。那你得去学学基础了。(当然写博客的时候，博主也是这个水平的，所以我写出来的文章可能水平不高，但是肯定真实，因为我和大家一样是慢慢学得)


## Schema 和 数据类型优化

良好的逻辑设计和物理设计是高性能的基石，应该根据系统将要执行的查询语句设计schema,这个需要自己好好权衡利弊。例如，反范式可以加快查询速度，但是同时也会使另外1一些查询变慢。所以下面就介绍一些实用的经验，数据库类型的优化。

- 设计正确存储数据的最小数据类型，更小的数据通常更快，因为它们占用更少的磁盘，内存。和CPU
- 尽量避免NULL,通常情况下最好指定为NOT NULL，除非真的需要存储NULL。因为可为NUll的列需要更多的存储空间，在记录索引的时候，可为NUll的列需要多一个字节（后面文章会细细道来）
- 对于时间类型的选择 DATETIME 和TIMESTAMP它们都可以存储相同的时间类型，但是TIMESTAMP只使用DATETIME一半的存储空间。所以尽量选择TIMESTAMP (并且它的默认值是不为NULL)
-   char 和varchar 这个得看自己业务需求了，如果你确定你得字段的大小是百分之一百的，那你肯定是用char,如果不确定你就得用varchar 并且就是预估自己这个类型的长度。
-   对于bit 是不建议用的，比如说我们业务中需要标识是否删除，是否上架这种类型的（只有2种情况的，也是建议使用tinyint来标识。
- 尽量使用相同的数据类型存储相似或者相关的值，尤其是要在关联查询中使用的列
- 小心使用ENUM，虽然他们很好用。但是不要滥用。
- 尽量做到避免过度设计，例如会导致及其复杂的查询schema设计，或者有很多列的表设计。

> 范式是好的，但是反范式有时也是必须的，做过微服务开发的都知道，有时候我们冗余一些字段，可以为我们的业务带来更快的查询，但是我们更新的时候，就必须要多维护多一张表，所以对于我们读多写少的场景，我觉得冗余多一个字段也是没有问题的。对于范式和反范式的混用，得看具体的业务，仁者见仁，智者见智。经过大家多年来的实践经验得来的才是最真实的


## 索引基础
什么是索引

> 在关系数据库中，索引是一种单独的、物理的对数据库表中一列或多列的值进行排序的一种存储结构，它是某个表中一列或若干列值的集合和相应的指向表中物理标识这些值的数据页的逻辑指针清单。索引的作用相当于图书的目录，可以根据目录中的页码快速找到所需的内容。

Tips

>最近在做sql优化，其实sql我们做sql优化的时候第一步想到肯定是加索引，比如某一个 SQL 查询比较
慢，分析完原因之后，你可能就会说“给某个字段加个索引吧”之类的解决方案。但到底什么是
索引，索引又是如何工作的呢？

### 常见的索引类型
索引的出现是为了提高查询效率，但是实现索引的方式却有很多种，所以这里也就引入了索引模
型的概念。可以用于提高读写效率的数据结构很多，这里我先给你介绍三种常见、也比较简单的
数据结构，它们分别是哈希表、有序数组和搜索树。


#### 哈希表
 其实这个可以直接对比Java的HashMap，还算是比较简单 底层实现可以是数组+链表的这种数据结构，哈希的思路很简单，把值放在数组里，用一个哈希函数把 key 换
算成一个确定的位置，然后把 value 放在数组的这个位置。
不可避免地，多个 key 值经过哈希函数的换算，会出现同一个值的情况。处理这种情况的一种
方法是，拉出一个链表。

**哈希表的特点就是可以快速的精确查询，但是不支持范围查询。它适用于等值查询的地方**


#### 有序数组

**有序数组在等值查询和范围查询场景中的性能就都非常优秀** ，但是不合适更新，因为更新的时候就非常的耗费时间了，所以这种数据结构只能适合静态数据，你比如你大学四楼泡的妹子。哈哈已经这个是永远也不会改变的。有就是有，没有就算没有。。。

#### 搜索树
搜索数结构，还算蛮多的
-   二叉数
    - 它的话，搜索效率还是不错的，但是他的时间复杂度是O(log(N))，为了维持这个时间复杂度，更新的时间复杂度也得是O(log(N))，那就得保持这棵树是完全平衡二叉树了。
- 平衡二叉树
    - 这个也是一样的，它的树高会很高，所以也不是那么适合做mysql的存储结构
- B数
    - B树中的一个节点可以存储多个元素。
- B+数
    - B+树是B树的升级版，只是把非叶子节点冗余一下，这么做的好处是为了提高范围查找的效率。

N 叉树由于在读写上的性能优点，以及适配磁盘的访问模式，已经被广泛应用在数据库引擎中了。数据库底层存储的核心就是基于这些数据模型的。每碰到一个新数据库，我们需要先关注它的数据模型，这样才能从理论上分析出这个数据库的适用场景。
对于数据结构和算法这门课，到时候我肯定也得过一下的这些才是软件工程的基础嘛。这里就不一一细说了。



## 结尾
今天就稍微介绍了一下下哈。我们下章继续再战，对了如果需要mysql上面这几样学习质料的话，可以加qq群下载，大家一起从小白开始学mysql,群里还蛮好玩的，对于初学着来说，因为我们不是大神，都是小白，相互学习。
## 日常求赞
> 好了各位，以上就是这篇文章的全部内容了，能看到这里的人呀，都是**真粉**。

> 创作不易，各位的支持和认可，就是我创作的最大动力，我们下篇文章见

>六脉神剑 | 文 【原创】如果本篇博客有任何错误，请批评指教，不胜感激 ！
